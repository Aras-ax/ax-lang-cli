翻译工具优化点：
1. 提取语言
    a. 剔除不需要翻译的内容；确保导出的句段顺序合理、语意完整
        解决方案：
        a. 对于html文件给每个需要宏控制的功能模块或者页面最外层的元素加上data-hong属性；例如:G0没有wifi功能，该功能通过宏“CONFIG_WIFI”控制，则在html文件中包裹该功能的最外层标签中加上data-hong属性即
        <div class="access-controls controls" data-hong="CONFIG_WIFI">
            ...
            <label class="control-label" data-lang="defTime">默认有效使用时长：</label>
            ...
        </div>
        b. 对于js文件则在该功能模块的代码段外层加上特殊标记/*< 宏名称 >*/ 你的代码段 /*- 宏名称 -*/宏名称前后可以有任意个空格，例如：
        /*CONFIG_NET_WAN_STATIC*/
        ....
        const tt = _("我们不一样，不一样...");
        ....
        /*CONFIG_NET_WAN_STATIC*/

    b. 特殊格式的语句提取，在最外层元素加上data-nowrap="1" 属性，表示整个提取
        例如：<div data-nowrap="1">注意: <b id="doReboot">重启设备</b> 让新配置生效。</div>
        最后提取出来的就是：注意: <b id="doReboot">重启设备</b> 让新配置生效。
    
    c. 支持语法，规则
        支持`data-lang`，
        词条前后的空格全部移除，词条里面多个空格，\n \t将全部自动转换成单个空格

2. 翻译文件
    翻译完成后会以输出界面上还存在哪些字段是没有找到对应的翻译的

3. excel转json
    a. 首次导入：进行正常的excel转JSON，重复项进行value值对比，不一样则进行key值重新编码，输出log文件和语言json文件
    b. 语言包优化：直接进行语言项的匹配替换，保留原Json文件中有而新语言包中没有的项
    c. 新增翻译项：首先读取原json文件，然后进行excel的读取，若新增项的key与原语言包做比较，key相同value不同则进行key值重新编码，并且输出log文件和合并后的json文件
    去除翻译文本前后的空格

    Excel2Json注意事项：
    1. 若存在多国语言包，则所有的excel转json操作*必须*在同一次进行，即Value字段配置多个值，以英文逗号隔开，分开进行excel转json，无法确定每个字段之间的对应关系
    2. excel转json后会产生REPEAT文件夹，该文件夹保留自动重复，重新编码的相关信息，不能手动删除，否则重复字段的对应关系会丢失
    3. REPEAT文件夹下面的log.json文件记录了修改字段对应的编码后的字段信息以及字段出现的页面的信息

4. Json转excel
5. 字段长度提取
    提取界面上可见字段的长度，集成在本地服务器里面
6. 翻译检查
    检查是否漏翻情况,对于%s参数的数据进行格式检查
7. json合并（深度合并，不仅仅是替换）
    将object1与object2合并，object2中的属性匹配覆盖object1中的相同属性

================================ 分割线 ================================
翻译解决方案：
资料部：（若达成协议后，资料部没有履行职责，一切责任归资料部）
1. 只接受资料部审核通过的翻译
2. 每个迭代版本最多接收由资料部发过来2次语言包优化，超过需提需求变更【第一次为翻译，第二次为更新到设备中资料部完成语境检查后修改优化】【资料部多个人同时优化一个项目时，请汇总后再发给UI组】【UI开发组根据项目开发计划提供当前版本的优化截止时间】。且每次翻译或优化，需找UI组提供最新的语言包【防止翻译遗漏，以前的翻译被还原等问题】。
3. 由资料组保证翻译或优化后的语言格式与源语言一致 【如标点符号，%s变量等】
4. 资料组参与多语言开发项目的界面审核工作，主要审核语言过长，重叠，显示不全，格式不对应问题。
5. 多语言项目语言过长、重叠、显示不全问题，原则上截短翻译，不修改界面排版设计。

资料组要求及组内多国语言开发规范：
1. 保证最新的言包的正确性
2. 每次修改UI组需确保修改到位，再次检查时如发现未修改的内容，资料组不再继续检查，发回彻底修改完后再提交检查，检查时间相应延后
3. 对于第4点需至少预留2天时间检查，资料组检查内容限界面静态信息，交互信息在功能测试过程中检查
4. 对于excel文件中资料组给的标注，每条必须处理，和查看。
5. 语言包修改完成后必须合入主线（优化，新增等）
6. 开发功能时不能对语言包做删除操作，修改时不能修改英文key值，若需要修改，保留原词条，新增一条
7. 限制优化次数，超过次数的优化，直接回复修改次数已达上限，造成web重复工作，需要提需求变更，并且抄送给项目相关人员及他的直接领导，并且每次优化的语言包中带上优化次数标记

翻译需要注意的格式：(发送给谢耿)
1. %s (s为小写，且中间不能加空格，换行符等任何字符)
2. 类似“名称：”语言中的":"，不能删除，可翻译为对应语言的冒号
3. 对应英文字段前面的8位字符x#x-x=x#不能删除，翻译的时候直接忽略这些字符即可，翻译后的语言也不需要带上这些字符
4. 对于一整句话带有html标签的如：Note: <b id="doReboot">Reboot the device</b> to activate the settings.像这种的句子中间的html标记(<>括号包住的都属于html标记)需要保留

最终解决方案：
语言提取

当前存在问题记录

BUG：
1. 当前版本   在识别单引号括起来的字符串 和 模板字符串时会有一些BUG -d
2. 原厂代码中经常会有<%xxx%>这种东西，会导致某些词条提取不出来,ejs,tpl,
3. 翻译时会删除空格将" "转为"" -d
1. 对单双引号的处理，有时候会把\"变成\\\" 有时候不会 -d
2. \t  与 \n的处理,原厂代码中有的html中的语句会换行，还有可能有tab来格式化，这种提取出来的语句中会有\t（u000a）   \n(u0009)或者多个空格。但b28n.js和提取工具没有对这部分的处理
3. 西欧编码空格处理   西欧空格的编码和utf-8空格的编码不同，在b28n.js和提取工具中都没有做处理。出现过很多次bug
iso-8859-1 Latin-1
需求：
1. 多个项目一套代码时，代码中就会有项目1的词条，项目2的词条，公共的词条。需要有某种机制来仅提取某个项目的词条。
2. 一对多翻译时，前面加上的前缀能够自动替换，而不是通过手动去替换。
3. 添加对Vue文件的解析jsx ejs tpl

通过esprima将一个空函数的源码生成一棵AST树
通过estraverse遍历并更新AST树
通过escodegen将AST重新生成源码

1. 解析JS -> AST
2. 解析html -> jsdom
3. 解析vue -> AST
通过解析上述文件，进行词条提取

jsdom，
Esprima，
minimatch 正则路劲匹配
globby Returns a Promise<Array> of matching paths.

需求整理：
功能点记录：
1. 如果没有提供任何的参数输出-h
2. 提取词条（分文件进行处理，区分提取所有还是只提取中文或者只提取英文词条）
3. 翻译词条，即覆盖文件中的词条（输出翻译后的文件，同时对不需要翻译的文件进行copy,同时支持excel和json的词条翻译，翻译过程中未匹配到的词条进行输出）
4. 一对多处理（无法判断哪个页面用哪个词条的，只能手动修改，可以通过中文去区分的可以修改）
5. 词条翻译检查（输出对应的错误信息，并带上页面的信息，如果当前页面有错误，把当前所在的页面信息一并进行输出）
6. 工具函数
7. excel2json
8. json2excel
9. jsonmerge
10. 错误检查
11. 词条长度检查ect.
12. data-lang的关系